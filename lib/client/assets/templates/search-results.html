<div class="row">
  <div class="col-xs-8">
    <div class="count" ng-show="service.loaded">
      <strong><span ng-hide="service.page === 1">{{service.from}}-{{service.to}} of </span>{{service.count}} results</strong>
    </div>
  </div>
  <div class="col-xs-4 text-right">
    <div class="dropdown">
      <button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
        Sort: <strong>{{getSortName()}}</strong>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right dropdown-check">
        <li ng-repeat="sort in sorts" ng-class="{checked: getSortName() === sort.name}">
          <a ui-sref="search.results(sort.params)"><span class="glyphicon glyphicon-ok"></span>{{sort.name}}</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="results">
  <div class="result" ng-repeat="component in service.results" ng-switch on="isInstalled(component.name)">
    <div class="row">
      <div class="col-sm-8">
        <h3>
          <a class="pointer" ng-href="{{component.website}}">{{component.name}}</a>
          <small>by {{component.owner}}</small>
        </h3>
        <p>{{component.description}}</p>
        <div>
          <ul class="list-inline text-muted">
            <li><span class="glyphicon glyphicon-star"></span>{{component.stars}}</li>
            <li>Updated {{timeago(component.updated)}}</li>
          </ul>
        </div>
      </div>
      <div class="col-sm-4 text-right">
        <div class="form-inline" ng-switch-when="false">
          <input type="text" class="form-control input-sm" placeholder="Latest" ng-model="component.version" ng-init="component.version=''">
          <button type="button" class="btn btn-default btn-sm" ng-click="install(component.name, component.version)">Install</button>
        </div>
        <div class="form-inline" ng-switch-when="true">
          <input type="text" class="form-control input-sm" placeholder="Latest" disabled ng-value="getVersion(component.name)">
          <button type="button" class="btn btn-default btn-sm" ng-click="uninstall(component.name)">Uninstall</button>
        </div>
      </div>
    </div>
  </div>
  <p class="text-muted message" ng-show="service.searching">
    Loading...
  </p>
  <p class="text-danger message" ng-show="service.loadingError">
    Couldn't fetch packages list from the registry.<br>
    Please try again later.
  </p>
</div>
<div class="text-center" ng-show="hasPrev() || hasNext()">
  <a class="btn btn-default btn-sm" ui-sref="search.results({p: {{service.page - 1}}})" ng-disabled="!hasPrev()">Prev</a>
  <a class="btn btn-default btn-sm" ui-sref="search.results({p: {{service.page + 1}}})" ng-disabled="!hasNext()">Next</a>
</div>
