<!doctype html>
<html lang="en" ng-app="bowerBrowser">
  <head>
    <meta charset="UTF-8">
    <title>bower-browser</title>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="/css/app.css">
  </head>
  <body>
    <div class="container-fluid" ng-controller="LibraryController">
      <h1>bower-browser Demo</h1>
      <p><b>Project:</b> {{bower.name}} v{{bower.version}}</p>
      <div class="row">
        <div class="col-md-3">
          <table class="table table-hover">
            <colgroup>
              <col style="width: 50%;">
              <col style="width: 30%;">
              <col style="width: 20%;">
            </colgroup>
            <thead>
              <tr>
                <th>Name</th>
                <th>Version</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="(name, version) in bower.dependencies">
                <th>{{name}}</th>
                <td>{{version}}</td>
                <td class="text-right"><button type="button" class="btn btn-default btn-xs" ng-click="uninstall(name)">Uninstall</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-md-5">
          <table class="table table-hover">
            <colgroup>
              <col style="width: 26%;">
              <col style="width: 17%;">
              <col style="width: 10%;">
              <col style="width: 20%;">
              <col style="width: 15%;">
              <col style="width: 12%;">
            </colgroup>
            <thead>
              <tr>
                <th>Name</th>
                <th>Owner</th>
                <th class="text-right">Stars</th>
                <th>Updated</th>
                <th>Version</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="component in results" ng-switch on="isInstalled(component.name)">
                <th>
                  <a class="pointer" title="{{component.description}}" ng-href="{{component.website}}">{{component.name}}</a>
                </th>
                <td>{{component.owner}}</td>
                <td class="text-right">{{component.stars}}</td>
                <td>{{timeago(component.updated)}}</td>
                <td>
                  <div ng-switch-when="false">
                    <input type="text" class="form-control input-xs" placeholder="Latest" ng-model="component.version" ng-init="component.version=''">
                  </div>
                  <div ng-switch-when="true">
                    <input type="text" class="form-control input-xs" placeholder="Latest" disabled ng-value="getVersion(component.name)">
                  </div>
                </td>
                <td class="text-right">
                  <div ng-switch-when="false">
                    <button type="button" class="btn btn-default btn-xs" ng-click="install(component.name, component.version)">Install</button>
                  </div>
                  <div ng-switch-when="true">
                    <button type="button" class="btn btn-default btn-xs" ng-click="uninstall(component.name)">Uninstall</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-md-4">
          <pre class="log"><code ng-bind-html="logHtml"></code></pre>
        </div>
      </div>
    </div>
    <script src="/bower_components/angular/angular.js"></script>
    <script src="/bower_components/lodash/dist/lodash.js"></script>
    <script src="/bower_components/moment/moment.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.1.js"></script>
    <script src="/js/app.js"></script>
  </body>
</html>
