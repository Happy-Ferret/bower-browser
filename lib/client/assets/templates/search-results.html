<div class="row">
  <div class="col-xs-8">
    <div class="count" ng-show="service.loaded">
      <strong><span ng-hide="service.page === 1">{{service.from | number}}-{{service.to | number}} of </span>{{service.count | number}} results</strong>
    </div>
  </div>
  <div class="col-xs-4 text-right">
    <div class="dropdown">
      <button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
        Sort: <strong>{{getSortName()}}</strong>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right dropdown-check">
        <li ng-repeat="sort in sorts" ng-class="{checked: getSortName() === sort.name}">
          <a ui-sref="search.results(sort.params)"><span class="glyphicon glyphicon-ok"></span>{{sort.name}}</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="results">
  <div class="result" ng-repeat="component in service.results" ng-switch on="bower.isInstalled(component.name)">
    <div class="row">
      <div class="col-sm-9">
        <h3>
          <a class="pointer" ng-href="{{component.website}}">{{component.name}}</a>
          <small>by <a href="https://github.com/{{component.owner}}">{{component.owner}}</a></small>
        </h3>
        <p>{{component.description}}</p>
        <div>
          <ul class="list-inline text-muted">
            <li><span class="glyphicon glyphicon-star"></span>{{component.stars | number}}</li>
            <li>Updated {{component.updated | fromNow}}</li>
          </ul>
        </div>
      </div>
      <div class="col-sm-3 text-right">
        <div class="input-group input-group-sm" ng-switch-when="false">
          <input type="text" class="form-control" placeholder="Latest version" ng-model="component.version" ng-init="component.version=''">
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" ng-click="bower.install(component.name, component.version)" ng-disabled="process.isInQueue('install-' + component.name)">Install</button>
          </span>
        </div>
        <div class="input-group input-group-sm" ng-switch-when="true">
          <input type="text" class="form-control" placeholder="Latest version" disabled ng-value="bower.getVersion(component.name)">
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" ng-click="bower.uninstall(component.name)" ng-disabled="process.isInQueue('uninstall-' + component.name)">Uninstall</button>
          </span>
        </div>
      </div>
    </div>
  </div>
  <p class="text-muted message" ng-if="service.searching">
    Loading...
  </p>
  <p class="text-warning message" ng-if="service.loaded && service.count === 0">
    Your search &quot;{{service.query}}&quot; did not match any packages.
  </p>
  <p class="text-danger message" ng-if="service.loadingError">
    Couldn't fetch packages list from the registry.<br>
    Please try again later.
  </p>
</div>
<div class="text-center" ng-show="service.loaded && service.count > 0">
  <app-pagination max="service.pageCount" current="service.page" offset="2"></app-pagination>
</div>
